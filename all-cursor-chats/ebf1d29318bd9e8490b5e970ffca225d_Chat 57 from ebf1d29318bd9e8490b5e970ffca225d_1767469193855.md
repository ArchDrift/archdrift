# Chat: Chat 57 from ebf1d29318bd9e8490b5e970ffca225d

**Source:** ebf1d29318bd9e8490b5e970ffca225d/aiService.prompts
**Messages:** 1
**Recovered:** 2026-01-03T19:39:53.855Z

---

## unknown

Use the existing `IssueSummary` and `rawIssues` to create a new command `driftguard.generateReport` in `extension.ts`.

### Logic Requirements:
1. **Trigger:** When the command is run, it should aggregate the latest `rawIssues` and `summary` and open them in a new, unsaved Markdown document (`vscode.workspace.openTextDocument` with `language: 'markdown'`).
2. **Score Calculation:** - Start with a base score of 100.
   - Subtract 2 points for every issue in `summary.totalIssues`.
   - The score cannot go below 0. 
   - Label this as "Architecture Health Score."
3. **Pattern Breakdown Table:** Create a GitHub-flavored Markdown table with these columns:
   - Pattern (e.g., ðŸ“¦ God Class)
   - Count
   - Severity (Use ðŸ”´ for Error, ðŸŸ¡ for Warning, ðŸŸ¢ for Information based on the `DiagnosticSeverity`)
4. **Top Offenders (Click-to-Code):** - List the top 5 files with the highest issue counts.
   - Each file must be a clickable link using the URI format: `[path/to/file.ts](file:///absolute/path/to/file.ts)`.
   - When clicked, it should open the file in the editor.
5. **Footer:** Include: `Generated by DriftGuard v0.4 â€¢ [Stop the AI Slop]`.

### Technical Constraints:
- Do NOT attempt to calculate total lines of code (LOC) to avoid filesystem performance lag.
- Use only the data already available in the `rawIssues` array and `IssueSummary` interface.
- Ensure the Markdown opens in a new tab immediately after the scan completes or when requested.
- Keep the styling clean and professional; do not use HTML tags, only standard Markdown.

---

