# Chat: Chat 10 from 6b222ee149b93154f7e1c8606fdcdf50

**Source:** 6b222ee149b93154f7e1c8606fdcdf50/aiService.prompts
**Messages:** 1
**Recovered:** 2026-01-03T19:39:52.944Z

---

## unknown

I want to dogfood the DriftGuard â€œLayer Violationâ€ rule on the Ghost repo and find a real problematic file pair for screenshots and examples.

You have access to the workspace code here. Please:

Scan the core/ and apps/ folders looking for files whose imports clearly violate a typical backend layering rule of:

api / controllers â†’ may depend on services / domain

services / domain â†’ may depend on models / repos / lib

models / repos / lib â†’ must NOT depend â€œupwardsâ€ on api or controllers.

Identify 3â€“5 concrete examples of suspicious imports where a lower layer depends on an upper one. For each, give:

fromFile path

toFile path

The exact import line

Why this looks like a layer violation under the above rules.

Then, crossâ€‘check against DriftGuardâ€™s current layerâ€‘violation mapping logic and tell me, for each example, whether my detector should currently flag it or if I need to adjust the mapping (e.g. path patterns, allowed directions).

Finally, recommend one best example (clearest violation, not too noisy) to use as the â€œproblematic fileâ€ in the DriftGuard README and report screenshots, and suggest the exact wording of the report line, e.g.:

ğŸš« Layer Violation: core/domain/userService.ts â†’ core/api/userController.ts (domain should not depend on api)

Focus only on real Ghost files, no synthetic fixtures.

---

