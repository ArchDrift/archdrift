# Chat: Chat 24 from ebf1d29318bd9e8490b5e970ffca225d

**Source:** ebf1d29318bd9e8490b5e970ffca225d/aiService.prompts
**Messages:** 1
**Recovered:** 2026-01-03T19:39:53.745Z

---

## unknown

The lexical.js file in core/server/lib/ is incorrectly showing as 'Clean' in DriftGuard. This is because the detectLayer logic fails on absolute Windows paths.

The Goal: Fix the layer detection logic so it:

Normalizes the file path (converts backslashes to forward slashes).

Uses a relative path from the project root.

Correctingly identifies lexical.js as the 'lib' layer and flags the import of ../api/endpoints/... as a Layer Violation.

Please update the detectLayer function to handle absolute paths properly."

---

