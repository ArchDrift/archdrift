# Chat: Chat 2 from e4ce8fae7a59d75128c1237eab0f2369

**Source:** e4ce8fae7a59d75128c1237eab0f2369/aiService.prompts
**Messages:** 1
**Recovered:** 2026-01-03T19:39:53.566Z

---

## unknown

Now create another JavaScript file in this folder named test-n1-query.js.

Requirements:

150–250 lines of code.

Include at least 5 different examples where:

There is a loop over a collection (for, for...of, forEach, map, while, etc.), and

Inside that loop there is a database or API call, such as:

await db.users.find(...), await db.posts.find(...), await prisma.user.findMany(...),

await fetch("/api/..."),

await axios.get(...), await axios.post(...), etc.

Also include a couple of “good” patterns for contrast, such as:

Fetching all needed data in one call before the loop,

Using Promise.all to batch.

Make it realistic code that would compile, but the main goal is to clearly demonstrate N+1 query patterns for the analyzer to catch.

---

